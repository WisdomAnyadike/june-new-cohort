<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Form</title>
  <link href="css/index.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"> -->

  <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-auth-compat.js"></script>



</head>

<body>
  <!-- Body of Form starts -->
  <div class="container">
    <form  >
      <!--Full name-->
      <div class="box">
        <label for="fullName" class="fl fontLabel"> Full Name: </label>
        <div class="new iconBox">
          <i class="fa fa-user" aria-hidden="true"></i>
        </div>
        <div class="fr">
          <input type="text"  id="myname" required name="fullName" placeholder="Full Name" class="textBox" autofocus="on" >
        </div>
        <div class="clr"></div>
      </div>
      <!--First name-->

      <!---Email ID---->
      <div class="box">
        <label for="email" class="fl fontLabel"> Email: </label>
        <div class="fl iconBox"><i class="fa fa-envelope" aria-hidden="true"></i></div>
        <div class="fr">
          <input required type="email" id="myemail"  name="email" placeholder="Email Id" class="textBox">
        </div>
        <div class="clr"></div>
      </div>
      <!--Email ID----->


      <!---Password------>
      <div class="box">
        <label for="password" class="fl fontLabel"> Password </label>
        <div class="fl iconBox"><i class="fa fa-key" aria-hidden="true"></i></div>
        <div class="fr">
          <input required type="Password" id="mypassword"   name="password" placeholder="Password" class="textBox">
        </div>
        <div class="clr"></div>
      </div>
      <!---Password---->




      <!--Terms and Conditions------>
      <div class="box terms">
        <input required type="checkbox" name="Terms" > &nbsp; I accept the terms and conditions
      </div>
      <!--Terms and Conditions------>



      <!---Submit Button------>
      <div style="display: flex; ">
        <div class="box" style="background: #2d3e3f">
          <input type="button" name="Submit" onclick="signUp(event)" class="submit" value="SUBMIT">
        </div>

        <div class="box" style="background: #2d3e3f">
          <input type="button" name="Submit" class="submit" onclick="" value="Google">
        </div>


      </div>
      <!---Submit Button----->
    </form>
  </div>
  <!--Body of Form ends--->
</body>

</html>
<script>
 
  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyBuVJBtozFRiUba83iupXJAFQeUi0DFRLA",
    authDomain: "june-cohort.firebaseapp.com",
    projectId: "june-cohort",
    storageBucket: "june-cohort.firebasestorage.app",
    messagingSenderId: "53416909340",
    appId: "1:53416909340:web:aed182c1e80ebb972c1dd9"
  };

  // Initialize Firebase

  console.log(firebase);

  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  function signUp(ev) {
    ev.preventDefault()

    let email =  document.getElementById('myemail').value.trim()
    let password = document.getElementById('mypassword').value.trim()
    let username = document.getElementById('myname').value.trim()

 
    auth.createUserWithEmailAndPassword( email, password )
  .then((userCredential) => {
    // Signed in 
    var user = userCredential.user;


user.updateProfile({
  displayName: username,
}).then(() => {
  console.log(user);
    alert("sign up successful, with username update")
    window.location.href = 'login.html'

}).catch((error) => {
  console.log(user);
    alert("sign up successful, without username update")
    window.location.href = 'login.html'
});  

    
   
  
  })
  .catch((error) => {
    var errorCode = error.code;
    var errorMessage = error.message;
    alert(errorMessage)
    // ..
  });
  }


  


  // fetch('').then((res)=> { return res.json()}).then((data))

  // async function getproducts() {
  //   try {
  //     let res = await fetch('')
  //     let data = await res.json()
      
  //   } catch (error) {
      
  //   }
  // }




</script>
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"> </script> -->